#!/bin/bash

set -x
set -e


# set node controller IP for "internal" network
echo "10.31.81.10" > /etc/waggle/node_controller_host

if [ ! -e /etc/waggle/node_id ] ; then
 source ./scripts/create_node_id.sh
fi


# workaround  (fix later):
cp /etc/waggle/node_id /etc/waggle/hostname


#change this to offline install
apt-get install -y python-pip python-dev
pip install tabulate
pip install pyserial
pip install crcmod
pip install psutil

ln -sf /usr/lib/waggle/guestnodes/scripts/communicator.sh /etc/init.d/communicator.sh
update-rc.d communicator.sh defaults 





